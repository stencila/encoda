<html>

  <head>
    <title>Date codec</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://unpkg.com/@stencila/thema@1/dist/themes/stencila/styles.css"
      rel="stylesheet">
    <script src="https://unpkg.com/@stencila/thema@1/dist/themes/stencila/index.js"
      type="text/javascript"></script>
    <script
      src="https://unpkg.com/@stencila/components@&lt;=1/dist/stencila-components/stencila-components.esm.js"
      type="module"></script>
    <script
      src="https://unpkg.com/@stencila/components@&lt;=1/dist/stencila-components/stencila-components.js"
      type="text/javascript"></script>
  </head>

  <body>
    <article itemscope="" itemtype="http://schema.org/Article" data-itemscope="root">
      <div itemscope="" itemtype="http://schema.org/Organization" itemprop="publisher">
        <meta itemprop="name" content="Unknown">
        <div itemscope="" itemtype="http://schema.org/ImageObject" itemprop="logo">
          <meta itemprop="url"
            content="https://via.placeholder.com/600x60/dbdbdb/4a4a4a.png?text=Unknown"
            src="https://via.placeholder.com/600x60/dbdbdb/4a4a4a.png?text=Unknown">
        </div>
      </div>
      <h1 itemprop="headline">Date codec</h1>
      <meta itemprop="image"
        content="https://via.placeholder.com/1200x714/dbdbdb/4a4a4a.png?text=Date%20codec">
      <h1 itemscope="" itemtype="http://schema.stenci.la/Heading" id="date-codec">Date codec</h1>
      <p itemscope="" itemtype="http://schema.stenci.la/Paragraph">This is a simple codec for
        decoding and encoding strings representing dates, including date-times. It is most often
        used when coercing a property that expects a <code itemscope=""
          itemtype="http://schema.stenci.la/CodeFragment">Date</code> e.g the <code itemscope=""
          itemtype="http://schema.stenci.la/CodeFragment">datePublished</code> property of an <code
          itemscope="" itemtype="http://schema.stenci.la/CodeFragment">Article</code>. It allows
        authors to use a variety of data formats instead of having to enter an ISO string.</p>
      <h2 itemscope="" itemtype="http://schema.stenci.la/Heading" id="encoding">Encoding</h2>
      <p itemscope="" itemtype="http://schema.stenci.la/Paragraph">In the Stencila schema, dates are
        represented using an <a href="https://en.wikipedia.org/wiki/ISO_8601" itemscope=""
          itemtype="http://schema.stenci.la/Link">ISO 8601</a> string in the <code itemscope=""
          itemtype="http://schema.stenci.la/CodeFragment">value</code> property, which may include a
        time component. For example, this <code itemscope=""
          itemtype="http://schema.stenci.la/CodeFragment">Date</code> in 1840:</p>
      <pre class="language-json" itemscope="" itemtype="http://schema.stenci.la/CodeBlock"
        data-import="waitangi"><code>{
  &quot;type&quot;: &quot;Date&quot;,
  &quot;value&quot;: &quot;1840-02-05T12:20:56.000Z&quot;
}</code></pre>
      <p itemscope="" itemtype="http://schema.stenci.la/Paragraph">When encoding to a string, any
        time component will be preserved by the <code itemscope=""
          itemtype="http://schema.stenci.la/CodeFragment">date</code> codec, so the above date will
        be encoded as:</p>
      <pre class="language-date" itemscope="" itemtype="http://schema.stenci.la/CodeBlock"
        data-export="waitangi"><code>1840-02-05T12:20:56.000Z</code></pre>
      <p itemscope="" itemtype="http://schema.stenci.la/Paragraph">However, if the time component is
        <code itemscope="" itemtype="http://schema.stenci.la/CodeFragment">T00:00:00.000Z</code>
        (i.e. midnight UTC) then it will not be encoded. For example, midnight 1 January 1990:</p>
      <pre class="language-json" itemscope="" itemtype="http://schema.stenci.la/CodeBlock"
        data-import="ny1990"><code>{
  &quot;type&quot;: &quot;Date&quot;,
  &quot;value&quot;: &quot;1990-01-01T00:00:00.000Z&quot;
}</code></pre>
      <p itemscope="" itemtype="http://schema.stenci.la/Paragraph">will be encoded as,</p>
      <pre class="language-date" itemscope="" itemtype="http://schema.stenci.la/CodeBlock"
        data-export="ny1990"><code>1990-01-01</code></pre>
      <h2 itemscope="" itemtype="http://schema.stenci.la/Heading" id="decoding">Decoding</h2>
      <p itemscope="" itemtype="http://schema.stenci.la/Paragraph">The decoding of dates is handled
        by Javascript&#39;s <a
          href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date"
          itemscope="" itemtype="http://schema.stenci.la/Link"><code itemscope=""
            itemtype="http://schema.stenci.la/CodeFragment">new Date()</code></a> constructor. This
        allows for various date formats to be handled. For example, the above <code itemscope=""
          itemtype="http://schema.stenci.la/CodeFragment">Date</code> for midnight 1 January 1990,
        would be decoded from all of the following:</p>
      <pre class="language-date" itemscope="" itemtype="http://schema.stenci.la/CodeBlock"
        data-equals="ny1990"><code>1990</code></pre>
      <pre class="language-date" itemscope="" itemtype="http://schema.stenci.la/CodeBlock"
        data-equals="ny1990"><code>1990-01-01</code></pre>
      <pre class="language-date" itemscope="" itemtype="http://schema.stenci.la/CodeBlock"
        data-equals="ny1990"><code>1990-01-01T00:00:00.000Z</code></pre>
      <pre class="language-date" itemscope="" itemtype="http://schema.stenci.la/CodeBlock"
        data-equals="ny1990"><code>1 January, 1990</code></pre>
      <pre class="language-date" itemscope="" itemtype="http://schema.stenci.la/CodeBlock"
        data-equals="ny1990"><code>Jan 1 1990</code></pre>
      <pre class="language-date" itemscope="" itemtype="http://schema.stenci.la/CodeBlock"
        data-equals="ny1990"><code>Jan 1 1990 0:00</code></pre>
      <p itemscope="" itemtype="http://schema.stenci.la/Paragraph">All decoded dates are assumed to
        be for the UTC timezone. If the string can not be decoded as a date, then a warning will be
        logged and a <code itemscope="" itemtype="http://schema.stenci.la/CodeFragment">Date</code>
        with an empty string for the <code itemscope=""
          itemtype="http://schema.stenci.la/CodeFragment">value</code> property returned.</p>
    </article>
  </body>

</html>